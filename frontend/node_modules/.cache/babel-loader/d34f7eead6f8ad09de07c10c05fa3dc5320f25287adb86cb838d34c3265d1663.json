{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      q: '',\n      cards: [],\n      loading: false\n    };\n  },\n  mounted() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const query = urlParams.get('q');\n    if (query) {\n      this.q = query;\n      this.searchCards();\n    }\n  },\n  methods: {\n    handleInput() {\n      if (this.q.endsWith(' ')) {\n        this.searchCards();\n      }\n    },\n    async searchCards() {\n      this.loading = true;\n      try {\n        const response = await axios.get(`http://localhost:8080/search`, {\n          params: {\n            q: this.q\n          }\n        });\n        this.cards = response.data.cards;\n        const url = new URL(window.location.href);\n        url.searchParams.set('q', this.q);\n        window.history.pushState({}, '', url);\n      } catch (error) {\n        console.error(error);\n        // Handle the error appropriately\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","q","cards","loading","mounted","urlParams","URLSearchParams","window","location","search","query","get","searchCards","methods","handleInput","endsWith","response","params","url","URL","href","searchParams","set","history","pushState","error","console"],"sources":["/home/kpom/workspace/rust/lorcana/frontend/src/components/SearchBox.vue"],"sourcesContent":["<template>\n  <div>\n    <form @submit.prevent=\"searchCards\">\n      <input @input=\"handleInput\"  type=\"text\" v-model=\"q\" placeholder=\"Search for cards\">\n      <button type=\"submit\">Search</button>\n    </form>\n    <div v-if=\"loading\">Loading...</div>\n    <ul v-if=\"!loading\">\n      <li v-for=\"card in cards\" :key=\"card.id\"><img :src=\"card.image\" /></li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      q: '',\n      cards: [],\n      loading: false,\n    };\n  },\n  mounted() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const query = urlParams.get('q');\n    if (query) {\n        this.q = query;\n        this.searchCards();\n     }\n  },\n  methods: {\n    handleInput() {\n      if (this.q.endsWith(' ')) {\n        this.searchCards();\n      }\n    },\n    async searchCards() {\n      this.loading = true;\n      try {\n        const response = await axios.get(`http://localhost:8080/search`, { params: { q: this.q } });\n        this.cards = response.data.cards;\n        \n        const url = new URL(window.location.href);\n        url.searchParams.set('q', this.q);\n        window.history.pushState({}, '', url);\n      } catch (error) {\n        console.error(error);\n        // Handle the error appropriately\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>"],"mappings":";;;AAcA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,CAAC,EAAE,EAAE;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAMC,SAAQ,GAAI,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC7D,MAAMC,KAAI,GAAIL,SAAS,CAACM,GAAG,CAAC,GAAG,CAAC;IAChC,IAAID,KAAK,EAAE;MACP,IAAI,CAACT,CAAA,GAAIS,KAAK;MACd,IAAI,CAACE,WAAW,CAAC,CAAC;IACrB;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACb,CAAC,CAACc,QAAQ,CAAC,GAAG,CAAC,EAAE;QACxB,IAAI,CAACH,WAAW,CAAC,CAAC;MACpB;IACF,CAAC;IACD,MAAMA,WAAWA,CAAA,EAAG;MAClB,IAAI,CAACT,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMa,QAAO,GAAI,MAAMjB,KAAK,CAACY,GAAG,CAAE,8BAA6B,EAAE;UAAEM,MAAM,EAAE;YAAEhB,CAAC,EAAE,IAAI,CAACA;UAAE;QAAE,CAAC,CAAC;QAC3F,IAAI,CAACC,KAAI,GAAIc,QAAQ,CAAChB,IAAI,CAACE,KAAK;QAEhC,MAAMgB,GAAE,GAAI,IAAIC,GAAG,CAACZ,MAAM,CAACC,QAAQ,CAACY,IAAI,CAAC;QACzCF,GAAG,CAACG,YAAY,CAACC,GAAG,CAAC,GAAG,EAAE,IAAI,CAACrB,CAAC,CAAC;QACjCM,MAAM,CAACgB,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,EAAEN,GAAG,CAAC;MACvC,EAAE,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB;MACF,UAAU;QACR,IAAI,CAACtB,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}