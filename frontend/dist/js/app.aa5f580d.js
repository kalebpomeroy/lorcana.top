(function(){"use strict";var t={4746:function(t,s,r){var e=r(9242),o=r(3396);const a=(0,o._)("div",{class:"navbar"}," Lorcana Card search ",-1);function i(t,s,r,e,i,n){const c=(0,o.up)("SearchBox");return(0,o.wg)(),(0,o.iD)("div",null,[a,(0,o.Wm)(c)])}function n(t,s,r,e,a,i){const n=(0,o.up)("SearchBar"),c=(0,o.up)("PaginatorRow"),d=(0,o.up)("ResultsGrid");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{onSearch:i.searchCards},null,8,["onSearch"]),(0,o.Wm)(c,{onSetPage:i.pageCards,total:a.total,limit:a.limit,offset:a.offset,onPageCards:i.pageCards},null,8,["onSetPage","total","limit","offset","onPageCards"]),(0,o.Wm)(d,{cards:a.cards},null,8,["cards"])])}r(8858),r(1318),r(3228);var c=r(1076);const d={class:"search-container"},l={class:"search-bar"},h=(0,o._)("button",{class:"search-button",type:"submit"},"Search",-1),u={key:0,class:"helper-popover"};function v(t,s,r,a,i,n){const c=(0,o.up)("HelperWindow");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",l,[(0,o._)("form",{onSubmit:s[2]||(s[2]=(0,e.iM)(((...t)=>n.searchCards&&n.searchCards(...t)),["prevent"]))},[(0,o.wy)((0,o._)("input",{onInput:s[0]||(s[0]=(...t)=>n.handleInput&&n.handleInput(...t)),class:"search-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>i.q=t),placeholder:"Search for cards"},null,544),[[e.nr,i.q]]),h],32),(0,o._)("button",{onClick:s[3]||(s[3]=(...t)=>n.toggleHelperText&&n.toggleHelperText(...t)),class:"search-button"},"?")]),i.showHelperText?((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(c)])):(0,o.kq)("",!0)])}const g=(0,o.uE)('<h2>Syntax Guide</h2><div class="helper-box"> This search mirrors the syntax used by <a href="https://scryfall.com/docs/syntax">Scryfall</a>. Below are some helpful shortcuts to get you started. For most searches you will use the `[field]:[text]` syntax. For example: <code>k:villian</code> shows all cards with the word <code>villian</code> in the keywords field. </div><div class="helper-container"><div class="helper-box"><h4>Full Text Searches</h4><p> Text searches match any part. If no filter is specified, it searches the name. </p><div class="row"><strong>n:</strong> Name</div><div class="row"><strong>b:</strong> Body</div><div class="row"><strong>a:</strong> Artist</div><div class="row"><strong>k:</strong> Keywords</div><div class="row"><strong>f:</strong> Flavor Text</div><div class="row"><strong>e:</strong> TFC or RFB</div></div><div class="helper-box"><h3>Numbers</h3><p> With numeric fields you can use the `:` syntax, or use <code>&lt;</code>, <code>&gt;</code>, <code>≤</code>, <code>≥</code>, <code>=</code>. </p><br><div class="row"><strong>w:</strong> Willpower</div><div class="row"><strong>s:</strong> Strength</div><div class="row"><strong>c:</strong> Cost</div><div class="row"><strong>l:</strong> Lore</div><hr><div class="row"> Example: <code>c&gt;5</code> Finds all cards that cost more than 5 </div></div><div class="helper-box"><h3>Ink Colors (i)</h3><div class="row"><strong>s:</strong> Steel</div><div class="row"><strong>r:</strong> Ruby</div><div class="row"><strong>b:</strong> Sapphire</div><div class="row"><strong>p:</strong> Amethyst</div><div class="row"><strong>a:</strong> Amber</div><div class="row"><strong>e:</strong> Emerald</div><hr><div class="row"> Example: <code>i:e</code> Finds all emerald cards </div></div><div class="helper-box"><h3>Card Types (t)</h3><div class="row"><strong>a:</strong> Action</div><div class="row"><strong>i:</strong> Item</div><div class="row"><strong>c:</strong> Character</div><div class="row"><strong>s:</strong> Song</div><hr><div class="row"> Example: <code>t:c</code> Finds all character cards </div></div><div class="helper-box"><h3>Rarity (r)</h3><div class="row"><strong>c:</strong> Common</div><div class="row"><strong>u:</strong> Uncommon</div><div class="row"><strong>r:</strong> Rare</div><div class="row"><strong>s:</strong> Super Rare</div><div class="row"><strong>l:</strong> Legendary</div><hr><div class="row"> Example: <code>r:u</code> Finds all uncommon cards </div></div></div><br><div class="helper-box"> To sort, you can you <code>sort:x</code> using any of the filters in place of x. For example: <code>sort:c</code> sorts by cost. <code>d:a</code> sorts ascending, d:z sorts descending. </div>',5);function f(t,s){return g}var p=r(89);const m={},w=(0,p.Z)(m,[["render",f]]);var b=w,y={data(){return{q:"",showHelperText:!1}},methods:{searchCards(){this.$emit("search",this.q)},handleInput(){this.q.endsWith(" ")&&this.searchCards()},toggleHelperText(){this.showHelperText=!this.showHelperText}},components:{HelperWindow:b}};const x=(0,p.Z)(y,[["render",v]]);var C=x,P=r(7139);const S={class:"pagination-container"},T=["disabled"],_=["disabled"];function k(t,s,r,e,a,i){return(0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("button",{onClick:s[0]||(s[0]=(...t)=>i.previousPage&&i.previousPage(...t)),disabled:0===r.offset,class:"pagination-button"},"Previous",8,T),(0,o._)("div",null,"Page "+(0,P.zw)(i.currentPage)+" of "+(0,P.zw)(i.totalPages),1),(0,o._)("button",{onClick:s[1]||(s[1]=(...t)=>i.nextPage&&i.nextPage(...t)),disabled:i.isLastPage,class:"pagination-button"},"Next",8,_)])}var q={props:{cards:Array,offset:Number,limit:Number,total:Number},computed:{currentPage(){return Math.floor(this.offset/this.limit)+1},totalPages(){return Math.ceil(this.total/this.limit)},isLastPage(){return this.offset+this.limit>=this.total}},methods:{nextPage(){this.isLastPage||this.$emit("pageCards",this.offset+this.limit)},previousPage(){this.offset>0&&this.$emit("pageCards",Math.max(0,this.offset-this.limit))}}};const O=(0,p.Z)(q,[["render",k],["__scopeId","data-v-1c60879a"]]);var F=O;const R={class:"results-grid"},H=["src"];function W(t,s,r,e,a,i){return(0,o.wg)(),(0,o.iD)("div",R,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.cards,(t=>((0,o.wg)(),(0,o.iD)("span",{class:"card",key:t.id},[(0,o._)("img",{loading:"lazy",src:`http://drrkqgqijb8dh.cloudfront.net/${t.id}.png`},null,8,H),(0,o.Uk)(" "+(0,P.zw)(t.name),1)])))),128))])}var j={props:{cards:Array}};const L=(0,p.Z)(j,[["render",W]]);var D=L,I={components:{SearchBar:C,PaginatorRow:F,ResultsGrid:D},data(){return{cards:[],limit:10,total:0,offset:0}},mounted(){const t=new URLSearchParams(window.location.search);this.offset=t.get("offset")||0,this.q=t.get("q")||"",this.searchCards()},methods:{async pageCards(t){this.offset=t??this.offset,await this.fetchCards()},async searchCards(t){this.q=t??this.q,await this.fetchCards()},async fetchCards(){try{const t=await c.Z.get("/search",{params:{q:this.q,offset:this.offset,limit:this.limit}});this.cards=t.data.cards,this.total=t.data.total;const s=new URL(window.location.href);void 0!==this.q&&s.searchParams.set("q",this.q),void 0!==this.limit&&s.searchParams.set("limit",this.limit),void 0!==this.limit&&s.searchParams.set("offset",this.offset),window.history.pushState({},"",s)}catch(t){console.error(t)}}}};const A=(0,p.Z)(I,[["render",n]]);var B=A,E={name:"App",mounted(){document.title="Lorcana Search"},components:{SearchBox:B}};const M=(0,p.Z)(E,[["render",i]]);var Z=M;(0,e.ri)(Z).mount("#app")}},s={};function r(e){var o=s[e];if(void 0!==o)return o.exports;var a=s[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(s,e,o,a){if(!e){var i=1/0;for(l=0;l<t.length;l++){e=t[l][0],o=t[l][1],a=t[l][2];for(var n=!0,c=0;c<e.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](e[c])}))?e.splice(c--,1):(n=!1,a<i&&(i=a));if(n){t.splice(l--,1);var d=o();void 0!==d&&(s=d)}}return s}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[e,o,a]}}(),function(){r.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(s,{a:s}),s}}(),function(){r.d=function(t,s){for(var e in s)r.o(s,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(s){return 0===t[s]};var s=function(s,e){var o,a,i=e[0],n=e[1],c=e[2],d=0;if(i.some((function(s){return 0!==t[s]}))){for(o in n)r.o(n,o)&&(r.m[o]=n[o]);if(c)var l=c(r)}for(s&&s(e);d<i.length;d++)a=i[d],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},e=self["webpackChunklorcana_top"]=self["webpackChunklorcana_top"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=r.O(void 0,[998],(function(){return r(4746)}));e=r.O(e)})();
//# sourceMappingURL=app.aa5f580d.js.map